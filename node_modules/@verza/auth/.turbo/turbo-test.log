
> test
> node --test dist/**/*.test.js

TAP version 13
# Subtest: requireInstitutionApiKey: missing key returns 401
ok 1 - requireInstitutionApiKey: missing key returns 401
  ---
  duration_ms: 157.3313
  type: 'test'
  ...
# Subtest: requireInstitutionApiKey: valid key sets req.institution
ok 2 - requireInstitutionApiKey: valid key sets req.institution
  ---
  duration_ms: 50.7804
  type: 'test'
  ...
# Subtest: verifyTwoFactorOrThrow returns used backup code hash when valid
ok 3 - verifyTwoFactorOrThrow returns used backup code hash when valid
  ---
  duration_ms: 8.7648
  type: 'test'
  ...
# Subtest: verifyTwoFactorOrThrow throws invalid_twofa on bad codes
ok 4 - verifyTwoFactorOrThrow throws invalid_twofa on bad codes
  ---
  duration_ms: 1.6514
  type: 'test'
  ...
1..4
# tests 4
# suites 0
# pass 4
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 2284.5615
