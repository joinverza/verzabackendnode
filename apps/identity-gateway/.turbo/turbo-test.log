
> test
> node --test --test-force-exit dist/**/*.test.js

TAP version 13
# {"level":30,"time":1769622161782,"service":"identity-gateway","addr":{"address":"127.0.0.1","family":"IPv4","port":61682},"msg":"identity-gateway listening"}
# {"level":30,"time":1769622162071,"service":"identity-gateway","req":{"id":1,"method":"POST","url":"/v1/sessions","query":{},"params":{},"headers":{"host":"127.0.0.1:61682","connection":"keep-alive","content-type":"application/json","x-request-id":"rid","traceparent":"00-aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa-bbbbbbbbbbbbbbbb-01","authorization":"Bearer token","accept":"*/*","accept-language":"*","sec-fetch-mode":"cors","user-agent":"node","accept-encoding":"gzip, deflate","content-length":"16"},"remoteAddress":"127.0.0.1","remotePort":52934},"request_id":"rid","res":{"statusCode":200,"headers":{"x-powered-by":"Express","x-request-id":"rid","vary":"Origin","access-control-allow-credentials":"true","ratelimit-policy":"60;w=60","ratelimit-limit":"60","ratelimit-remaining":"59","ratelimit-reset":"60","content-type":"application/json; charset=utf-8","content-length":"25","etag":"W/\\"19-Q8OtLVAAj8lm7sI/nBjoabn3EJk\\""}},"responseTime":114,"msg":"request completed"}
# Subtest: identity-gateway proxies sessions and passes key headers
ok 1 - identity-gateway proxies sessions and passes key headers
  ---
  duration_ms: 451.3456
  type: 'test'
  ...
1..1
# tests 1
# suites 0
# pass 1
# fail 0
# cancelled 0
# skipped 0
# todo 0
# duration_ms 3311.1007
